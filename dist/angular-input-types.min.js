/*!
 * Angular Input Types v1.0.2-SNAPSHOT
 * (c) 2017 Jon Wikman. https://github.com/FlaxHaxx/angular-input-types
 * License: MIT
 */
!function(e){function n(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var r={};n.m=e,n.c=r,n.i=function(e){return e},n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=5)}([function(e,n){angular.module("inputTypes").service("inputUtils",function(){this.getCursorPos=function(e){return e.selectionStart},this.setCursorPos=function(e,n){if(e.setSelectionRange)e.focus(),e.setSelectionRange(n,n);else if(e.createTextRange){var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",n),r.select()}}})},function(e,n){angular.module("inputTypes").directive("inputNumber",["inputUtils","$browser","$filter","validate",function(e,n,r,t){function i(e){if(null===e)return null;var n=e.replace(new RegExp("[^\\d|\\-+|\\"+c+"+]","g"),""),r="^\\d+";return o>0&&(r+="(\\"+c+"\\d{0,"+o+"})?"),n=n.match(new RegExp(r,"g")),null===n?null:n[0]}function u(n,r,t){var i=e.getCursorPos(n[0]);n.val(null===r?"":l(r)),n.triggerHandler("input"),null!==r&&t.$evalAsync(e.setCursorPos(n[0],i+(r.toString().length%3==1?1:0)))}function l(e){return(""+e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,function(e){return e+a})}var a=" ",c=",",o=2;return{restrict:"A",require:"ngModel",link:function(e,n,r,t){t.$parsers.unshift(function(r){if(!r)return null;var t=i(r);return u(n,t,e),null===t?null:t.replace(c,".").replace(/\.$/,"")})}}}])},function(e,n){angular.module("inputTypes").directive("inputOrgnr",["$browser","validate",function(e,n){function r(e){var r=e.slice(0,2),t=16==r||18==r||19==r||20==r;if((6==e.length&&!t||8==e.length&&t)&&e.indexOf("-")==-1&&(e+="-"),10==e.length&&!t||12==e.length&&t){var i=e.slice(0,e.length-4)+"-"+e.slice(e.length-4);n.orgnr(i)&&(e=i)}return e}function t(e){if(e.length<2)return e;var n=e.slice(0,2),r=16==n||18==n||19==n||20==n;return(10==e.length&&!r||12==e.length&&r)&&e.indexOf("-")==-1&&(e=e.slice(0,e.length-4)+"-"+e.slice(e.length-4)),e}return{restrict:"A",require:"ngModel",link:function(i,u,l,a){a.$validators.orgnr=function(e,r){return a.$isEmpty(e)||n.orgnr(r)};var c=function(){var e=u.val().replace(/[^0-9\-]/g,"").replace("--","-");(e=r(e))!=u.val()&&(u.val(e),u.triggerHandler("input"))},o=function(){var e=u.val().replace(/[^0-9\-]/g,"").replace("--","-");(e=t(e))!=u.val()&&(u.val(e),u.triggerHandler("input"))};u.bind("keydown",function(n){var r=n.keyCode;8==r||46==r||91==r||15<r&&r<19||37<=r&&r<=40||e.defer(c)}),u.bind("paste cut",function(){e.defer(o)}),u.bind("change",c)}}}])},function(e,n){angular.module("inputTypes").directive("inputPersonnummer",["$browser","validate",function(e,n){function r(e){if(2==e.length&&e!=u-1&&e!=u&&(e=i(e)+e),7==e.length&&"-"==e[6]&&(e=i(e.slice(0,2))+e),8==e.length&&e.indexOf("-")==-1&&(e+="-"),12==e.length&&e.indexOf("-")==-1){var r=e.slice(0,8)+"-"+e.slice(8);n.personnummer(r)&&(e=r)}return e}function t(e){return e.length<2?e:(10==e.length&&(e=i(e.slice(0,2))+e),12==e.length&&(e=e.slice(0,8)+"-"+e.slice(8)),e)}function i(e){return e>l?u-1:u}var u=String((new Date).getFullYear()).slice(0,2),l=String((new Date).getFullYear()).slice(2,4);return{restrict:"A",require:"ngModel",link:function(i,u,l,a){a.$validators.personnummer=function(e,r){return a.$isEmpty(e)||n.personnummer(r)};var c=function(){var e=u.val().replace(/[^0-9\-]/g,"").replace("--","-");(e=r(e))!=u.val()&&(u.val(e),u.triggerHandler("input"))},o=function(){var e=u.val().replace(/[^0-9\-]/g,"").replace("--","-");(e=t(e))!=u.val()&&(u.val(e),u.triggerHandler("input"))};u.bind("keydown",function(n){var r=n.keyCode;8==r||46==r||91==r||15<r&&r<19||37<=r&&r<=40||e.defer(c)}),u.bind("paste cut",function(){e.defer(o)}),u.bind("change",o)}}}])},function(e,n){angular.module("inputTypes").factory("validate",function(){function e(e){if(isNaN(e))return!1;var n=parseFloat(e);return(0|n)===n}function n(e){return!isNaN(e)}function r(e){return 13==e.length&&i(e)&&u(e)}function t(e){return(11==e.length||13==e.length)&&(!!e.match(/^(\d{2})?(\d{2})(\d{2})(\d{2})\-(\d{4})$/)&&(parseInt(RegExp.$3)<20?r(11==e.length?"20"+e:e):(""==RegExp.$1||16==RegExp.$1)&&u(e)))}function i(e){if(!e.match(/^(\d{4})(\d{2})(\d{2})\-(\d{4})$/))return!1;var n=new Date(RegExp.$1,RegExp.$2-1,RegExp.$3<61?RegExp.$3:1);return!(RegExp.$1<1840||n.getFullYear()!=RegExp.$1||n.getMonth()!=RegExp.$2-1||n.getDate()!=RegExp.$3&&(RegExp.$3<61||RegExp.$3>91))}function u(e){e=e.replace("-",""),12==e.length&&(e=e.substring(2));for(var n=0,r=0;r<10;r++){var t=parseInt(e.charAt(r));r%2==0&&(t*=2),t>9&&(t-=9),n+=t}return n%10==0}return{int:e,number:n,personnummer:r,orgnr:t}})},function(e,n,r){angular.module("inputTypes",[]),r(0),r(4),r(1),r(2),r(3)}]);