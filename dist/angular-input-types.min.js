/*!
 * Angular Input Types v0.2.0-SNAPSHOT
 * (c) 2017 Jon Wikman. https://github.com/FlaxHaxx/angular-input-types
 * License: MIT
 */
!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=3)}([function(module,exports){angular.module("inputTypes").directive("inputOrgnr",function($browser,validate){function format(value){var century=value.slice(0,2),containsCentury=16==century||18==century||19==century||20==century;return(6==value.length&&!containsCentury||8==value.length&&containsCentury)&&value.indexOf("-")==-1&&(value+="-"),value}function formatPaste(value){if(value.length<2)return value;var century=value.slice(0,2),containsCentury=16==century||18==century||19==century||20==century;return(10==value.length&&!containsCentury||12==value.length&&containsCentury)&&value.indexOf("-")==-1&&(value=value.slice(0,value.length-4)+"-"+value.slice(value.length-4)),value}return{restrict:"A",require:"ngModel",link:function(scope,elm,attrs,ctrl){ctrl.$validators.orgnr=function(modelValue,viewValue){return ctrl.$isEmpty(modelValue)||validate.orgnr(viewValue)};var listener=function(){var value=elm.val().replace(/[^0-9\-]/g,"").replace("--","-");(value=format(value))!=elm.val()&&(elm.val(value),elm.triggerHandler("input"))},pasteListener=function(){var value=elm.val().replace(/[^0-9\-]/g,"").replace("--","-");(value=formatPaste(value))!=elm.val()&&(elm.val(value),elm.triggerHandler("input"))};elm.bind("keydown",function(event){var key=event.keyCode;8==key||46==key||91==key||15<key&&key<19||37<=key&&key<=40||$browser.defer(listener)}),elm.bind("paste cut",function(){$browser.defer(pasteListener)}),elm.bind("change",listener)}}})},function(module,exports){angular.module("inputTypes").directive("inputPersonnummer",function($browser,validate){function format(value){if(2==value.length&&value!=centuryNow-1&&value!=centuryNow&&(value=getCentury(value)+value),7==value.length&&"-"==value[6]&&(value=getCentury(value)+value),8==value.length&&value.indexOf("-")==-1&&(value+="-"),12==value.length&&value.indexOf("-")==-1){var newValue=value.slice(0,8)+"-"+value.slice(8);validate.personnummer(newValue)&&(value=newValue)}return value}function formatPaste(value){return value.length<2?value:(10==value.length&&(value=getCentury(value.slice(0,2))+value),12==value.length&&(value=value.slice(0,8)+"-"+value.slice(8)),value)}function getCentury(year){return year>centuryNow?centuryNow-1:centuryNow}var centuryNow=String((new Date).getFullYear()).slice(0,2);return{restrict:"A",require:"ngModel",link:function(scope,elm,attrs,ctrl){ctrl.$validators.personnummer=function(modelValue,viewValue){return ctrl.$isEmpty(modelValue)||validate.personnummer(viewValue)};var listener=function(){var value=elm.val().replace(/[^0-9\-]/g,"").replace("--","-");(value=format(value))!=elm.val()&&(elm.val(value),elm.triggerHandler("input"))},pasteListener=function(){var value=elm.val().replace(/[^0-9\-]/g,"").replace("--","-");(value=formatPaste(value))!=elm.val()&&(elm.val(value),elm.triggerHandler("input"))};elm.bind("keydown",function(event){var key=event.keyCode;8==key||46==key||91==key||15<key&&key<19||37<=key&&key<=40||$browser.defer(listener)}),elm.bind("paste cut",function(){$browser.defer(pasteListener)}),elm.bind("change",pasteListener)}}})},function(module,exports){angular.module("inputTypes").factory("validate",function(){function personnummer(value){return 13==value.length&&(!!dateOrSamordningsnummer(value)&&luhnAlgoritm(value))}function orgnr(value){return(11==value.length||13==value.length)&&(!!value.match(/^(\d{2})?(\d{2})(\d{2})(\d{2})\-(\d{4})$/)&&(parseInt(RegExp.$3)<20?personnummer(11==value.length?"20"+value:value):(""==RegExp.$1||16==RegExp.$1)&&luhnAlgoritm(value)))}function dateOrSamordningsnummer(value){if(!value.match(/^(\d{4})(\d{2})(\d{2})\-(\d{4})$/))return!1;var date=new Date(RegExp.$1,RegExp.$2-1,RegExp.$3<61?RegExp.$3:1);return!(RegExp.$1<1840||date.getFullYear()!=RegExp.$1||date.getMonth()!=RegExp.$2-1||date.getDate()!=RegExp.$3&&(RegExp.$3<61||RegExp.$3>91))}function luhnAlgoritm(value){value=value.replace("-",""),12==value.length&&(value=value.substring(2));for(var sum=0,i=0;i<10;i++){var digit=parseInt(value.charAt(i));i%2==0&&(digit*=2),digit>9&&(digit-=9),sum+=digit}return sum%10==0}return{personnummer:personnummer,orgnr:orgnr}})},function(module,exports,__webpack_require__){angular.module("inputTypes",[]),__webpack_require__(2),__webpack_require__(1),__webpack_require__(0)}]);