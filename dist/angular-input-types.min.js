/*!
 * Angular Input Types v2.0.3-SNAPSHOT
 * (c) 2017 Jon Wikman. https://github.com/FlaxHaxx/angular-input-types
 * License: MIT
 */
!function(n){function e(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return n[t].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};e.m=n,e.c=r,e.i=function(n){return n},e.d=function(n,r,t){e.o(n,r)||Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:t})},e.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(r,"a",r),r},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=6)}([function(n,e){angular.module("inputTypes").service("inputUtils",function(){this.getCursorPos=function(n){return n.selectionEnd},this.setCursorPos=function(n,e){if(n.setSelectionRange)n.focus(),window.setTimeout(function(){n.setSelectionRange(e,e)});else if(n.createTextRange){var r=n.createTextRange();r.collapse(!0),r.moveEnd("character",e),r.moveStart("character",e),r.select()}}})},function(n,e){angular.module("inputTypes").provider("inputNumber",function(){this.nrOfDecimals=0,this.$get=function(){return this}}).directive("inputNumber",["$browser","$filter","$locale","$parse","$sniffer","inputNumber","inputUtils","validate",function(n,e,r,t,i,u,l,a){function c(n){if(null==n)return null;var e=(""+n).replace(".",p).replace(new RegExp("[^\\d|\\-+|\\"+p+"+]","g"),""),r="^\\-?\\d+";return d>0&&(r+="(\\"+p+"\\d{0,"+d+"})?"),e=e.match(new RegExp(r,"g")),null===e?null:e[0]}function o(n,e,r){var t=l.getCursorPos(n[0]);if(n.val(null===e?"":g(e)),null!==e){var i=e.toString().split(p)[0].length;i>0&&"-"==e.charAt(0)&&i--,i>1&&i%3==1&&t<=i+Math.floor(i/3)&&t++,t>1&&v>i&&v%3>0&&t--,r.$evalAsync(l.setCursorPos(n[0],t)),v=i}}function g(n){var e=(n+"").split(p);return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,f),e.join(p)}function s(n,e){return n.indexOf(e)==-1?0:n.split(e)[1].length}var f=r.NUMBER_FORMATS.GROUP_SEP,p=r.NUMBER_FORMATS.DECIMAL_SEP,d=u.nrOfDecimals,v=0;return{restrict:"A",require:"ngModel",link:function(n,e,r,u){var l=n.$eval(r.decimals);void 0!==l&&(d=l);var a=n.$eval(r.min);if(u.$parsers.unshift(function(r){if(!r)return null;var t=c(r);return null==t||s(t,p)>d?null:(o(e,t,n),s(r,p)>d&&(i.hasEvent("input")?e.triggerHandler("input"):e.triggerHandler("change")),u.$validators.min=function(n,e){return u.$isEmpty(n)||void 0===a||n>=a},null===t?null:t.replace(p,".").replace(/\.$/,""))}),r.ngModel){var g=t(r.ngModel)(n);g&&o(e,c(g),n)}}}}])},function(n,e){angular.module("inputTypes").directive("inputOrgnr",["$browser","$sniffer","validate",function(n,e,r){function t(n){var e=n.slice(0,2),t=16==e||18==e||19==e||20==e;if((6==n.length&&!t||8==n.length&&t)&&n.indexOf("-")==-1&&(n+="-"),10==n.length&&!t||12==n.length&&t){var i=n.slice(0,n.length-4)+"-"+n.slice(n.length-4);r.orgnr(i)&&(n=i)}return n}function i(n){if(n.length<2)return n;var e=n.slice(0,2),r=16==e||18==e||19==e||20==e;return(10==n.length&&!r||12==n.length&&r)&&n.indexOf("-")==-1&&(n=n.slice(0,n.length-4)+"-"+n.slice(n.length-4)),n}return{restrict:"A",require:"ngModel",link:function(u,l,a,c){c.$validators.orgnr=function(n,e){return c.$isEmpty(n)||r.orgnr(e)};var o=function(){var n=l.val().replace(/[^0-9\-]/g,"").replace("--","-");(n=t(n))!=l.val()&&(l.val(n),e.hasEvent("input")?l.triggerHandler("input"):l.triggerHandler("change"))},g=function(){var n=l.val().replace(/[^0-9\-]/g,"").replace("--","-");(n=i(n))!=l.val()&&(l.val(n),e.hasEvent("input")?l.triggerHandler("input"):l.triggerHandler("change"))};l.bind("keydown",function(e){var r=e.keyCode;8==r||46==r||91==r||15<r&&r<19||37<=r&&r<=40||n.defer(o)}),l.bind("paste cut",function(){n.defer(g)}),l.bind("change",o)}}}])},function(n,e){angular.module("inputTypes").directive("inputPersonnummer",["$browser","$sniffer","validate",function(n,e,r){function t(n){if(2==n.length&&n!=l-1&&n!=l&&(n=u(n)+n),7==n.length&&"-"==n[6]&&(n=u(n.slice(0,2))+n),8==n.length&&n.indexOf("-")==-1&&(n+="-"),12==n.length&&n.indexOf("-")==-1){var e=n.slice(0,8)+"-"+n.slice(8);r.personnummer(e)&&(n=e)}return n}function i(n){return n.length<2?n:(10==n.length&&(n=u(n.slice(0,2))+n),12==n.length&&(n=n.slice(0,8)+"-"+n.slice(8)),n)}function u(n){return n>a?l-1:l}var l=String((new Date).getFullYear()).slice(0,2),a=String((new Date).getFullYear()).slice(2,4);return{restrict:"A",require:"ngModel",link:function(u,l,a,c){c.$validators.personnummer=function(n,e){return c.$isEmpty(n)||r.personnummer(e)};var o=function(){var n=l.val().replace(/[^0-9\-]/g,"").replace("--","-");(n=t(n))!=l.val()&&(l.val(n),e.hasEvent("input")?l.triggerHandler("input"):l.triggerHandler("change"))},g=function(){var n=l.val().replace(/[^0-9\-]/g,"").replace("--","-");(n=i(n))!=l.val()&&(l.val(n),e.hasEvent("input")?l.triggerHandler("input"):l.triggerHandler("change"))};l.bind("keydown",function(e){var r=e.keyCode;8==r||46==r||91==r||15<r&&r<19||37<=r&&r<=40||n.defer(o)}),l.bind("paste cut",function(){n.defer(g)}),l.bind("change",g)}}}])},function(n,e){angular.module("inputTypes").directive("inputTime",["$browser","$parse","validate",function(n,e,r){function t(n){if(n.length>5)return n.substring(0,5);if(":"==n.charAt(n.length-1))for(;n.length<3;)n="0"+n;return 2==n.length?n+":":n.length>4&&":"==n.charAt(4)?n.substring(0,4):n}function i(n){return n.match(/\d{1,2}:\d{2}/g)[0],5==n.length?n:4==n.length?"0"+n:""}function u(n,e){n.val(null===e?"":e),n.triggerHandler("input")}function l(n){return n.replace(/[^0-9\:]/g,"").replace("::",":")}function a(n){return("0"+n).slice(-2)}return{restrict:"A",require:"ngModel",link:function(c,o,g,s){s.$parsers.unshift(function(n){n&&n.length>5&&(n=n.substring(0,5));var e=s.$isEmpty(n)||r.time(n);return s.$setValidity("time",e),e?n:void 0});var f=function(){o.val()&&u(o,t(l(o.val())))},p=function(){u(o,i(l(o.val())))};if(o.bind("keydown",function(e){var r=e.keyCode;8==r||46==r||91==r||15<r&&r<19||37<=r&&r<=40||n.defer(f)}),o.bind("paste cut",function(){n.defer(p)}),o.bind("change",p),g.ngModel){var d=e(g.ngModel)(c);d&&(u(o,a(d.getHours())+":"+a(d.getMinutes())),o.triggerHandler("change"))}}}}])},function(n,e){angular.module("inputTypes").factory("validate",function(){function n(n){return!isNaN(n)}function e(n){return 13==n.length&&i(n)&&u(n)}function r(n){return(11==n.length||13==n.length)&&(!!n.match(/^(\d{2})?(\d{2})(\d{2})(\d{2})\-(\d{4})$/)&&(parseInt(RegExp.$3)<20?e(11==n.length?"20"+n:n):(""==RegExp.$1||16==RegExp.$1)&&u(n)))}function t(n){if(5!=n.length)return!1;if(":"!==n.charAt(2))return!1;var e=n.substring(0,2);if(e<0||e>23)return!1;var r=n.substring(3,5);return!(r<0||r>59)}function i(n){if(!n.match(/^(\d{4})(\d{2})(\d{2})\-(\d{4})$/))return!1;var e=new Date(RegExp.$1,RegExp.$2-1,RegExp.$3<61?RegExp.$3:1);return!(RegExp.$1<1840||e.getFullYear()!=RegExp.$1||e.getMonth()!=RegExp.$2-1||e.getDate()!=RegExp.$3&&(RegExp.$3<61||RegExp.$3>91))}function u(n){n=n.replace("-",""),12==n.length&&(n=n.substring(2));for(var e=0,r=0;r<10;r++){var t=parseInt(n.charAt(r));r%2==0&&(t*=2),t>9&&(t-=9),e+=t}return e%10==0}return{number:n,personnummer:e,orgnr:r,time:t}})},function(n,e,r){angular.module("inputTypes",[]),r(0),r(5),r(1),r(2),r(3),r(4)}]);